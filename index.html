<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Undecimus</title>

<style>
:root {
  color-scheme: light dark;
  --bg:#0b0b0d; --text:#f2f2f7; --muted:#9a9aa1;
  --button:#1c1c1e; --button-hover:#2c2c2e;
  --border:#2a2a2c; --accent:#6aa9ff; --warn:#ffcc66;
}
@media (prefers-color-scheme: light) {
  :root {
    --bg:#f5f5f7; --text:#1c1c1e; --muted:#6e6e73;
    --button:#fff; --button-hover:#eaeaee;
    --border:#d1d1d6; --accent:#007aff; --warn:#9c6b00;
  }
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,
    "SF Pro Text","SF Pro Display",system-ui,sans-serif;
  background:var(--bg); color:var(--text);
  display:flex; justify-content:center;
  min-height:100vh; text-align:center;
}
.container{max-width:460px;width:100%;padding:32px 20px}
h1{margin:0;font-size:2.2rem;letter-spacing:-.02em}
.subtitle{margin-top:6px;font-size:.95rem;color:var(--muted)}
.subtitle a{color:var(--accent);text-decoration:none}
.tagline{margin:18px 0;font-size:.85rem;color:var(--muted)}

.required{
  margin:20px 0 28px;
  padding:16px;
  border-radius:14px;
  background:var(--button);
  border:1px solid var(--border);
}
.required-title{
  font-size:.9rem;
  font-weight:600;
  color:var(--warn);
  margin-bottom:6px;
}
.required-text{
  font-size:.75rem;
  color:var(--muted);
  line-height:1.4;
}
.required a{color:var(--accent);text-decoration:none}

.required-alt{
  margin-top:10px;
  font-size:.7rem;
}
.required-alt a{
  color:var(--accent);
  text-decoration:underline;
  cursor:pointer;
}

.editions{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
}
@media(min-width:420px){
  .editions{grid-template-columns:repeat(3,1fr)}
}

.edition-link{text-decoration:none;color:inherit}
.edition{
  padding:16px 12px;
  border-radius:14px;
  background:var(--button);
  border:1px solid var(--border);
  transition:background .15s ease, transform .15s ease, border-color .2s ease;
}
.edition:hover{background:var(--button-hover)}
.edition-title{font-size:.9rem;font-weight:600}
.edition-version{margin-top:6px;font-size:.72rem;color:var(--muted)}
.edition-support{margin-top:4px;font-size:.65rem;color:var(--muted)}
.edition-note{margin-top:4px;font-size:.65rem;color:var(--accent)}

.edition.unsupported{
  opacity:.45;
}
.edition.unsupported:hover{
  background:var(--button);
}

.edition-link.disabled{
  pointer-events:none;
}

/* ✅ ONE-TIME recommendation nudge */
@keyframes recommendOnce {
  0%   { transform: translateY(0); }
  20%  { transform: translateY(-6px); }
  40%  { transform: translateY(0); }
  100% { transform: translateY(0); }
}
.edition.recommended{
  animation: recommendOnce .9s ease-out;
  animation-fill-mode: both;
  border-color: var(--accent);
}

/* Skylark e highlight */
@keyframes highlightPulse {
  0% { box-shadow: 0 0 0 0 rgba(106,169,255,.6); }
  100% { box-shadow: 0 0 0 10px rgba(106,169,255,0); }
}
.edition.highlight{
  animation: highlightPulse 1.2s ease-out;
  border-color: var(--accent);
}

.divider{
  grid-column:1/-1;
  margin:10px 0 4px;
  padding-top:14px;
  border-top:1px solid var(--border);
  font-size:.7rem;
  color:var(--muted);
  text-align:left;
}

.disclaimer{
  margin-top:32px;
  font-size:.7rem;
  color:var(--muted);
}
.disclaimer a{color:var(--accent);text-decoration:none}

.blocked{
  display:none;
  max-width:320px;
  padding:24px;
  margin:auto;
  border-radius:16px;
  background:var(--button);
  border:1px solid var(--border);
  font-size:.85rem;
}
</style>
</head>

<body>

<div class="container" id="app">
<h1>Undecimus</h1>

<div class="subtitle">
by endlesspete inc partnered with
<a href="https://x.com/terralinkslabs?s=11" target="_blank">Terralinks Labs</a>
</div>

<div class="tagline">Find your official Skylark edition</div>

<div class="required">
  <div class="required-title">Required: Skylark Servers</div>
  <div class="required-text">
    Add the
    <a href="https://www.dropbox.com/scl/fo/9zq7kpz5zmcmuzfo8emer/AHGwiNEKuz9ujyF8geSKkqo?dl=0" target="_blank">
      Skylark Servers folder
    </a>
    to your Dropbox account.<br />
    Once you tap the link, you must wait for us to accept your invite.
  </div>
  <div class="required-alt">
    <a id="jumpToE">Don’t want Skylark Servers? Use Skylark e</a>
  </div>
</div>

<div class="editions">

<!-- editions unchanged -->

<div class="divider">other Skylark versions</div>

<a class="edition-link" id="skylark-e" data-min="18.0" href="https://endlesspete.github.io/16e/#">
  <div class="edition">
    <div class="edition-title">Skylark e</div>
    <div class="edition-note">Non-Skylark Server</div>
    <div class="edition-support">iOS 18.0 and later</div>
  </div>
</a>

</div>

<div class="disclaimer">
this page is just for testing and may not last long<br />
keep up to date @<a href="https://x.com/skylarkpress?s=21" target="_blank">SkylarkPress</a>
</div>
</div>

<script>
const ua = navigator.userAgent;
const iosMatch = ua.match(/OS (\d+)[._](\d+)/);
const ios = iosMatch ? parseFloat(`${iosMatch[1]}.${iosMatch[2]}`) : null;

let bestMatch = null;
let bestMin = -1;

document.querySelectorAll(".edition-link").forEach(link => {
  const min = parseFloat(link.dataset.min || 0);
  const card = link.querySelector(".edition");
  const isSkylark = link.dataset.sky === "true";

  if (isSkylark && ios >= min && min > bestMin) {
    bestMin = min;
    bestMatch = card;
  }
});

if (bestMatch) bestMatch.classList.add("recommended");

/* Scroll to Skylark e */
document.getElementById("jumpToE").addEventListener("click", () => {
  const e = document.getElementById("skylark-e");
  e.scrollIntoView({ behavior: "smooth", block: "center" });
  const card = e.querySelector(".edition");
  card.classList.add("highlight");
  setTimeout(() => card.classList.remove("highlight"), 1500);
});
</script>

</body>
</html>